# ============================================
# DATABASE CONFIGURATION
# ============================================
# Use these values to match docker-compose configuration
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
DATABASE_URL="postgresql://wishlist_user:wishlist_password@localhost:5432/wishlist_db"

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3002
NODE_ENV=development

# Frontend URL for OAuth redirects and CORS
# Development: http://localhost:3000 (enables CORS for local Vite dev server)
# Production: Set to your deployed frontend URL (e.g., https://your-app.up.railway.app)
# IMPORTANT: This must be set in production for OAuth redirects to work correctly
# After OAuth success, users are redirected to {FRONTEND_URL}/auth/callback with tokens
FRONTEND_URL="http://localhost:3000"

# ============================================
# JWT CONFIGURATION
# ============================================
# IMPORTANT: Generate a secure random secret for production!
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# This secret is used to sign JWT tokens - keep it confidential!
# Minimum length: 32 characters
JWT_SECRET="your-jwt-secret-key-change-this-in-production-minimum-32-chars-long"

# JWT token expiry times
# Access token: Short-lived for security (default: 15 minutes)
# Refresh token: Long-lived for user convenience (default: 30 days)
JWT_ACCESS_EXPIRY="15m"
JWT_REFRESH_EXPIRY="30d"

# ============================================
# GOOGLE OAUTH CONFIGURATION
# ============================================
# Get credentials at: https://console.cloud.google.com/apis/credentials
# 1. Create a new project or select existing
# 2. Enable Google+ API
# 3. Create OAuth 2.0 Client ID (Web application)
# 4. Add authorized redirect URI: http://localhost:3002/api/auth/google/callback
# 5. Copy Client ID and Client Secret below
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_CALLBACK_URL="http://localhost:3002/api/auth/google/callback"

# ============================================
# FACEBOOK OAUTH CONFIGURATION
# ============================================
# Get credentials at: https://developers.facebook.com/apps/
# 1. Create a new app or select existing
# 2. Add Facebook Login product
# 3. Go to Settings > Basic for App ID and App Secret
# 4. Go to Facebook Login > Settings
# 5. Add Valid OAuth Redirect URI: http://localhost:3002/api/auth/facebook/callback
# 6. Copy App ID and App Secret below
FACEBOOK_APP_ID="your-facebook-app-id"
FACEBOOK_APP_SECRET="your-facebook-app-secret"
FACEBOOK_CALLBACK_URL="http://localhost:3002/api/auth/facebook/callback"

# ============================================
# GITHUB OAUTH CONFIGURATION
# ============================================
# Get credentials at: https://github.com/settings/developers
# 1. Go to OAuth Apps and click "New OAuth App"
# 2. Fill in application details
# 3. Set Authorization callback URL: http://localhost:3002/api/auth/github/callback
# 4. Copy Client ID and generate Client Secret
GITHUB_CLIENT_ID="your-github-client-id"
GITHUB_CLIENT_SECRET="your-github-client-secret"
GITHUB_CALLBACK_URL="http://localhost:3002/api/auth/github/callback"

# ============================================
# APPLE OAUTH CONFIGURATION (CURRENTLY DISABLED)
# ============================================
# Note: Apple authentication is currently disabled. To re-enable, uncomment code in:
#   - packages/backend/src/features/auth/passport.config.ts (lines 136-180)
#   - packages/backend/src/routes/auth.routes.ts (lines 48-59)
#   - packages/frontend/src/pages/LoginPage.tsx (lines 68-77)
# Get credentials at: https://developer.apple.com/account/resources/identifiers/list/serviceId
# 1. Create an App ID at https://developer.apple.com/account/resources/identifiers/list
# 2. Create a Services ID (this is your CLIENT_ID)
# 3. Enable Sign In with Apple and configure domains and redirect URLs
# 4. Create a Private Key for Sign In with Apple
# 5. Download the .p8 file and copy its contents (including BEGIN/END lines)
# 6. Get your Team ID from https://developer.apple.com/account/#!/membership/
# 7. Get your Key ID from the key you created
# Note: APPLE_PRIVATE_KEY should be the entire .p8 file content as a single line
#       Replace newlines with \n (e.g., "-----BEGIN PRIVATE KEY-----\nMIGT....\n-----END PRIVATE KEY-----")
APPLE_CLIENT_ID="com.yourcompany.wishlist.signin"
APPLE_TEAM_ID="your-10-char-team-id"
APPLE_KEY_ID="your-10-char-key-id"
APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYourPrivateKeyHere\n-----END PRIVATE KEY-----"
APPLE_CALLBACK_URL="http://localhost:3002/api/auth/apple/callback"

# ============================================
# AI SERVICE CONFIGURATION
# ============================================
# OpenAI API Key for AI-powered link analysis and product description generation
# Get your API key at: https://platform.openai.com/api-keys
# 1. Sign up or log in to OpenAI Platform
# 2. Go to API Keys section
# 3. Click "Create new secret key"
# 4. Copy the key (starts with sk-proj-...)
# 5. Paste it below
# Note: This feature is optional - if not configured, link analysis will be unavailable
# Cost: GPT-4o Mini is very affordable (~$0.0003 per analysis)
OPENAI_API_KEY="sk-proj-your-openai-api-key-here"
