# Railway configuration for backend service
[build]
builder = "dockerfile"
dockerfilePath = "packages/backend/Dockerfile"

# Build arguments for frontend
[build.buildArgs]
VITE_API_URL = ""

[deploy]
startCommand = "sh -c 'cd /app/packages/backend && npx prisma migrate deploy && node dist/server.js'"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10
